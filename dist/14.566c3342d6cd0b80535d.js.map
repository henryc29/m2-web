{"version":3,"sources":["webpack:///./components/common/back_button.tsx","webpack:///./components/common/infinite_scroll.jsx","webpack:///./components/common/site_name_and_description.tsx","webpack:///./components/select_team/components/select_team_item.tsx","webpack:///./components/select_team/index.ts","webpack:///./components/select_team/select_team.tsx","webpack:///./components/widgets/icons/fa_logout_icon.jsx","webpack:///./components/widgets/icons/team_info_icon.jsx","webpack:///./images/logo.png"],"names":["BackButton","React","PureComponent","render","props","onClick","url","title","toString","SCROLL_BUFFER","DEBOUNCE_WAIT_TIME","InfiniteScroll","constructor","buffer","Math","abs","total","freq","ceil","isFetching","isEndofData","state","callBack","bufferValue","totalItems","itemsPerPage","pageNumber","node","current","validBuffer","validateBuffer","toScroll","scrollHeight","clientHeight","nearBottom","scrollTop","setState","amountOfPages","getAmountOfPages","debounce","handleScroll","createRef","componentDidMount","addEventListener","debounceHandleScroll","componentWillUnmount","removeEventListener","children","endOfDataMessage","styleClass","loaderStyle","showLoader","PropTypes","isRequired","func","string","number","object","SiteNameAndDescription","customDescriptionText","siteName","description","SelectTeamItem","e","preventDefault","onTeamClick","team","descriptionTooltip","canJoinPublicTeams","canJoinPrivateTeams","loading","icon","id","t","defaultMessage","canJoin","allow_open_invite","renderDescriptionTooltip","Utils","display_name","handleTeamClick","undefined","mapStateToProps","config","getConfig","currentUser","getCurrentUser","myTeamMemberships","Object","values","getTeamMemberships","currentUserId","currentUserRoles","roles","currentUserIsGuest","isGuest","CustomDescriptionText","isMemberOfTeam","length","listableTeams","getSortedListableTeams","locale","SiteName","canCreateTeams","haveISystemPermission","permission","Permissions","CREATE_TEAM","canManageSystem","MANAGE_SYSTEM","JOIN_PUBLIC_TEAMS","JOIN_PRIVATE_TEAMS","siteURL","SiteURL","totalTeamsCount","entities","teams","totalCount","mapDispatchToProps","dispatch","actions","bindActionCreators","getTeams","loadRolesIfNeeded","addUserToTeam","withRouter","connect","SelectTeam","TEAMS_PER_PAGE","TEAM_MEMBERSHIP_DENIAL_ERROR_ID","currentPage","response","error","Error","prevState","loadingTeamId","data","history","push","name","Constants","DEFAULT_CHANNEL","errorMsg","message","server_error_id","includes","PERMISSIONS_SYSTEM_ADMIN","trackEvent","emitUserLoggedOutEvent","endofTeamsData","currentListableTeams","getDerivedStateFromProps","slice","userId","fetchMoreTeams","split","openContent","joinableTeamContents","forEach","listableTeam","padding","height","teamSignUp","marginTop","adminConsoleLink","UserAgent","headerButton","clearError","handleLogoutClick","logoImage","LogoutIcon","formatMessage","useIntl","TeamInfoIcon","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit"],"mappings":"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","file":"14.566c3342d6cd0b80535d.js","sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\ntype Props = {\n\n    /**\n     * URL to return to\n     */\n    url: string;\n\n    /**\n     * onClick handler when user clicks back button\n     */\n    onClick?: React.EventHandler<React.MouseEvent>;\n}\n\nexport default class BackButton extends React.PureComponent<Props> {\n    public static defaultProps: Partial<Props> = {\n        url: '/',\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div\n                id='back_button'\n                className='signup-header'\n            >\n                <Link\n                    onClick={this.props.onClick}\n                    to={this.props.url}\n                >\n                    <FormattedMessage\n                        id='generic_icons.back'\n                        defaultMessage='Back Icon'\n                    >\n                        {(title: string | JSX.Element) => (\n                            <span\n                                id='back_button_icon'\n                                className='fa fa-1x fa-angle-left'\n                                title={title.toString()}\n                            />\n                        )}\n                    </FormattedMessage>\n                    <FormattedMessage\n                        id='web.header.back'\n                        defaultMessage='Back'\n                    />\n                </Link>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\n\nimport LoadingScreen from 'components/loading_screen';\n\nconst SCROLL_BUFFER = 100;\nconst DEBOUNCE_WAIT_TIME = 200;\n\nexport default class InfiniteScroll extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.node.isRequired,\n\n        /**\n         * Function that is called to load more items\n         */\n        callBack: PropTypes.func.isRequired,\n\n        /**\n         * Message to display when all the data has been scrolled through\n         */\n        endOfDataMessage: PropTypes.string,\n\n        /**\n         * A wrapper class to define styling of the infinite scroll\n         */\n        styleClass: PropTypes.string,\n\n        /**\n         * A number that determines how far the scroll is near the bottom before\n         * loading more items. The bigger this value the more items will be loaded\n         * much earlier as you scroll to the bottom.\n         */\n        bufferValue: PropTypes.number,\n\n        /**\n         * The total number of items to be scrolled through\n         */\n        totalItems: PropTypes.number.isRequired,\n\n        /**\n         * The number of items to load in a single fetch\n         */\n        itemsPerPage: PropTypes.number.isRequired,\n\n        /**\n         * The current page that has been scrolled to\n         */\n        pageNumber: PropTypes.number.isRequired,\n\n        /**\n         * Optional style object that's passed on to the underlying loader\n         * component\n         */\n\n        loaderStyle: PropTypes.object,\n    };\n\n    static defaultProps = {\n        bufferValue: SCROLL_BUFFER,\n        endOfDataMessage: '',\n        styleClass: '',\n        loaderStyle: {},\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isFetching: false,\n            isEndofData: false,\n        };\n        this.node = React.createRef();\n    }\n\n    componentDidMount() {\n        this.node.current.addEventListener('scroll', this.debounceHandleScroll);\n    }\n\n    componentWillUnmount() {\n        this.node.current.removeEventListener('scroll', this.debounceHandleScroll);\n    }\n\n    validateBuffer = (buffer) => {\n        if (buffer < SCROLL_BUFFER) {\n            return SCROLL_BUFFER;\n        }\n        return Math.abs(buffer);\n    }\n\n    getAmountOfPages = (total, freq) => {\n        return Math.ceil(total / freq);\n    }\n\n    handleScroll = () => {\n        const {isFetching, isEndofData} = this.state;\n        const {callBack, bufferValue, totalItems, itemsPerPage, pageNumber} = this.props;\n\n        const node = this.node.current;\n        const validBuffer = this.validateBuffer(bufferValue);\n\n        const toScroll = node.scrollHeight - node.clientHeight - validBuffer;\n        const nearBottom = node.scrollTop > toScroll;\n\n        if (nearBottom && !isEndofData && !isFetching) {\n            this.setState({isFetching: true},\n                async () => {\n                    await callBack();\n\n                    this.setState({\n                        isFetching: false,\n                    });\n\n                    if (totalItems === 0) {\n                        this.setState({\n                            isEndofData: true,\n                        });\n                        return;\n                    }\n\n                    const amountOfPages = this.getAmountOfPages(totalItems, itemsPerPage);\n\n                    if (pageNumber === amountOfPages) {\n                        this.setState({\n                            isEndofData: true,\n                        });\n                    }\n                });\n        }\n    }\n\n    debounceHandleScroll = debounce(this.handleScroll, DEBOUNCE_WAIT_TIME);\n\n    render() {\n        const {children, endOfDataMessage, styleClass, loaderStyle} = this.props;\n        const {isEndofData, isFetching} = this.state;\n        const showLoader = !isEndofData && isFetching; // show loader if fetching and end of data is not reached.\n        return (\n            <>\n                <div\n                    className={`infinite-scroll ${styleClass}`}\n                    ref={this.node}\n                >\n                    {children}\n                    {showLoader && (\n                        <LoadingScreen\n                            style={loaderStyle}\n                            message=' '\n                        />\n                    )}\n                    {!showLoader && endOfDataMessage}\n                </div>\n            </>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\ntype Props = {\n    customDescriptionText?: string;\n    siteName: string;\n}\n\nexport default class SiteNameAndDescription extends React.PureComponent<Props> {\n    public static defaultProps: Partial<Props> = {\n        siteName: 'Mattermost',\n    }\n\n    public render(): JSX.Element {\n        const {\n            customDescriptionText,\n            siteName,\n        } = this.props;\n        let description = null;\n        if (customDescriptionText) {\n            description = customDescriptionText;\n        } else {\n            description = (\n                <FormattedMessage\n                    id='web.root.signup_info'\n                    defaultMessage='All team communication in one place, searchable and accessible anywhere'\n                />\n            );\n        }\n\n        return (\n            <React.Fragment>\n                <h1 id='site_name'>{siteName}</h1>\n                <h4\n                    id='site_description'\n                    className='color--light'\n                >\n                    {description}\n                </h4>\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ReactNode, MouseEvent} from 'react';\nimport {Tooltip} from 'react-bootstrap';\n\nimport {Team} from 'mattermost-redux/types/teams';\n\nimport LocalizedIcon from 'components/localized_icon';\nimport OverlayTrigger from 'components/overlay_trigger';\nimport TeamInfoIcon from 'components/widgets/icons/team_info_icon';\n\nimport {t} from 'utils/i18n';\nimport * as Utils from 'utils/utils.jsx';\n\ntype Props = {\n    team: Team;\n    onTeamClick: (team: Team) => void;\n    loading: boolean;\n    canJoinPublicTeams: boolean;\n    canJoinPrivateTeams: boolean;\n};\n\nexport default class SelectTeamItem extends React.PureComponent<Props> {\n    handleTeamClick = (e: MouseEvent): void => {\n        e.preventDefault();\n        this.props.onTeamClick(this.props.team);\n    }\n\n    renderDescriptionTooltip = (): ReactNode => {\n        const team = this.props.team;\n        if (!team.description) {\n            return null;\n        }\n\n        const descriptionTooltip = (\n            <Tooltip id='team-description__tooltip'>\n                {team.description}\n            </Tooltip>\n        );\n\n        return (\n            <OverlayTrigger\n                delayShow={1000}\n                placement='top'\n                overlay={descriptionTooltip}\n                rootClose={true}\n                container={this}\n            >\n                <TeamInfoIcon className='icon icon--info'/>\n            </OverlayTrigger>\n        );\n    }\n\n    render() {\n        const {canJoinPublicTeams, canJoinPrivateTeams, loading, team} = this.props;\n        let icon;\n        if (loading) {\n            icon = (\n                <LocalizedIcon\n                    className='fa fa-refresh fa-spin right signup-team__icon'\n                    component='span'\n                    title={{id: t('generic_icons.loading'), defaultMessage: 'Loading Icon'}}\n                />\n            );\n        } else {\n            icon = (\n                <LocalizedIcon\n                    className='fa fa-angle-right right signup-team__icon'\n                    component='span'\n                    title={{id: t('select_team.join.icon'), defaultMessage: 'Join Team Icon'}}\n                />\n            );\n        }\n\n        const canJoin = (team.allow_open_invite && canJoinPublicTeams) || (!team.allow_open_invite && canJoinPrivateTeams);\n\n        return (\n            <div className='signup-team-dir'>\n                {this.renderDescriptionTooltip()}\n                <a\n                    href='#'\n                    id={Utils.createSafeId(team.display_name)}\n                    onClick={canJoin ? this.handleTeamClick : undefined}\n                    className={canJoin ? '' : 'disabled'}\n                >\n                    <span className='signup-team-dir__name'>{team.display_name}</span>\n                    {!team.allow_open_invite &&\n                        <LocalizedIcon\n                            className='fa fa-lock light'\n                            title={{id: t('select_team.private.icon'), defaultMessage: 'Private team'}}\n                        />}\n                    {canJoin && icon}\n                </a>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators, Dispatch} from 'redux';\nimport {withRouter} from 'react-router-dom';\n\nimport {getTeams} from 'mattermost-redux/actions/teams';\nimport {loadRolesIfNeeded} from 'mattermost-redux/actions/roles';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getSortedListableTeams, getTeamMemberships} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\n\nimport {GlobalState} from 'types/store';\n\nimport {addUserToTeam} from 'actions/team_actions';\nimport {isGuest} from 'utils/utils';\n\nimport SelectTeam from './select_team';\n\nfunction mapStateToProps(state: GlobalState) {\n    const config = getConfig(state);\n    const currentUser = getCurrentUser(state);\n    const myTeamMemberships = Object.values(getTeamMemberships(state));\n\n    return {\n        currentUserId: currentUser.id,\n        currentUserRoles: currentUser.roles || '',\n        currentUserIsGuest: isGuest(currentUser),\n        customDescriptionText: config.CustomDescriptionText,\n        isMemberOfTeam: myTeamMemberships && myTeamMemberships.length > 0,\n        listableTeams: getSortedListableTeams(state, currentUser.locale),\n        siteName: config.SiteName,\n        canCreateTeams: haveISystemPermission(state, {permission: Permissions.CREATE_TEAM}),\n        canManageSystem: haveISystemPermission(state, {permission: Permissions.MANAGE_SYSTEM}),\n        canJoinPublicTeams: haveISystemPermission(state, {permission: Permissions.JOIN_PUBLIC_TEAMS}),\n        canJoinPrivateTeams: haveISystemPermission(state, {permission: Permissions.JOIN_PRIVATE_TEAMS}),\n        siteURL: config.SiteURL,\n        totalTeamsCount: state.entities.teams.totalCount || 0,\n    };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n    return {\n        actions: bindActionCreators({\n            getTeams,\n            loadRolesIfNeeded,\n            addUserToTeam,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SelectTeam));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ReactNode, MouseEvent} from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport {Team} from 'mattermost-redux/types/teams';\n\nimport {emitUserLoggedOutEvent} from 'actions/global_actions';\nimport {trackEvent} from 'actions/telemetry_actions.jsx';\n\nimport * as UserAgent from 'utils/user_agent';\nimport Constants from 'utils/constants';\n\nimport logoImage from 'images/logo.png';\n\nimport AnnouncementBar from 'components/announcement_bar';\n\nimport BackButton from 'components/common/back_button';\nimport LoadingScreen from 'components/loading_screen';\n\nimport SystemPermissionGate from 'components/permissions_gates/system_permission_gate';\nimport SiteNameAndDescription from 'components/common/site_name_and_description';\nimport LogoutIcon from 'components/widgets/icons/fa_logout_icon';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nimport InfiniteScroll from '../common/infinite_scroll.jsx';\n\nimport SelectTeamItem from './components/select_team_item';\n\nexport const TEAMS_PER_PAGE = 30;\nconst TEAM_MEMBERSHIP_DENIAL_ERROR_ID = 'api.team.add_members.user_denied';\n\ntype Actions = {\n    getTeams: (page?: number, perPage?: number, includeTotalCount?: boolean) => any;\n    loadRolesIfNeeded: (roles: Iterable<string>) => any;\n    addUserToTeam: (teamId: string, userId?: string) => any;\n}\n\ntype Props = {\n    currentUserId: string;\n    currentUserRoles: string;\n    currentUserIsGuest?: boolean;\n    customDescriptionText?: string;\n    isMemberOfTeam: boolean;\n    listableTeams: Team[];\n    siteName?: string;\n    canCreateTeams: boolean;\n    canManageSystem: boolean;\n    canJoinPublicTeams: boolean;\n    canJoinPrivateTeams: boolean;\n    history?: any;\n    siteURL?: string;\n    actions: Actions;\n    totalTeamsCount: number;\n};\n\ntype State = {\n    loadingTeamId?: string;\n    error: any;\n    endofTeamsData: boolean;\n    currentPage: number;\n    currentListableTeams: Team[];\n}\n\nexport default class SelectTeam extends React.PureComponent<Props, State> {\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            loadingTeamId: '',\n            error: null,\n            endofTeamsData: false,\n            currentPage: 0,\n            currentListableTeams: [],\n        };\n    }\n\n    static getDerivedStateFromProps(props: Props, state: State) {\n        if (props.listableTeams.length !== state.currentListableTeams.length) {\n            return {\n                currentListableTeams: props.listableTeams.slice(0, TEAMS_PER_PAGE * state.currentPage),\n            };\n        }\n        return null;\n    }\n\n    componentDidMount() {\n        trackEvent('signup', 'signup_select_team', {userId: this.props.currentUserId});\n        this.fetchMoreTeams();\n        if (this.props.currentUserRoles !== undefined) {\n            this.props.actions.loadRolesIfNeeded(this.props.currentUserRoles.split(' '));\n        }\n    }\n\n    fetchMoreTeams = async () => {\n        const {currentPage} = this.state;\n        const {actions} = this.props;\n\n        const response = await actions.getTeams(currentPage, TEAMS_PER_PAGE, true);\n\n        // We don't want to increase the page number if no data came back previously\n        if (!response.error && !(response.error instanceof Error)) {\n            this.setState((prevState) => (\n                {\n                    currentPage: prevState.currentPage + 1,\n                }\n            ),\n            );\n        }\n    }\n\n    handleTeamClick = async (team: Team) => {\n        const {siteURL, currentUserRoles} = this.props;\n        this.setState({loadingTeamId: team.id});\n\n        const {data, error} = await this.props.actions.addUserToTeam(team.id, this.props.currentUserId);\n        if (data && this.props.history !== undefined) {\n            this.props.history.push(`/${team.name}/channels/${Constants.DEFAULT_CHANNEL}`);\n        } else if (error) {\n            let errorMsg = error.message;\n\n            if (error.server_error_id === TEAM_MEMBERSHIP_DENIAL_ERROR_ID) {\n                if (currentUserRoles !== undefined && currentUserRoles.includes(Constants.PERMISSIONS_SYSTEM_ADMIN)) {\n                    errorMsg = (\n                        <FormattedMarkdownMessage\n                            id='join_team_group_constrained_denied_admin'\n                            defaultMessage={`You need to be a member of a linked group to join this team. You can add a group to this team [here](${siteURL}/admin_console/user_management/groups).`}\n                            values={{siteURL}}\n                        />\n                    );\n                } else {\n                    errorMsg = (\n                        <FormattedMarkdownMessage\n                            id='join_team_group_constrained_denied'\n                            defaultMessage='You need to be a member of a linked group to join this team.'\n                        />\n                    );\n                }\n            }\n\n            this.setState({\n                error: errorMsg,\n                loadingTeamId: '',\n            });\n        }\n    };\n\n    handleLogoutClick = (e: MouseEvent): void => {\n        e.preventDefault();\n        trackEvent('select_team', 'click_logout');\n        emitUserLoggedOutEvent('/login');\n    };\n\n    clearError = (e: MouseEvent): void => {\n        e.preventDefault();\n\n        this.setState({\n            error: null,\n        });\n    };\n\n    render(): ReactNode {\n        const {currentPage, currentListableTeams} = this.state;\n        const {\n            currentUserIsGuest,\n            canManageSystem,\n            customDescriptionText,\n            isMemberOfTeam,\n            siteName,\n            canCreateTeams,\n            canJoinPublicTeams,\n            canJoinPrivateTeams,\n            totalTeamsCount,\n        } = this.props;\n\n        let openContent;\n        if (this.state.loadingTeamId) {\n            openContent = <LoadingScreen/>;\n        } else if (this.state.error) {\n            openContent = (\n                <div className='signup__content'>\n                    <div className={'form-group has-error'}>\n                        <label className='control-label'>{this.state.error}</label>\n                    </div>\n                </div>\n            );\n        } else if (currentUserIsGuest) {\n            openContent = (\n                <div className='signup__content'>\n                    <div className={'form-group has-error'}>\n                        <label className='control-label'>\n                            <FormattedMessage\n                                id='signup_team.guest_without_channels'\n                                defaultMessage='Your guest account has no channels assigned. Please contact an administrator.'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n        } else {\n            let joinableTeamContents: any = [];\n            currentListableTeams.forEach((listableTeam) => {\n                if ((listableTeam.allow_open_invite && canJoinPublicTeams) || (!listableTeam.allow_open_invite && canJoinPrivateTeams)) {\n                    joinableTeamContents.push(\n                        <SelectTeamItem\n                            key={'team_' + listableTeam.name}\n                            team={listableTeam}\n                            onTeamClick={this.handleTeamClick}\n                            loading={this.state.loadingTeamId === listableTeam.id}\n                            canJoinPublicTeams={canJoinPublicTeams}\n                            canJoinPrivateTeams={canJoinPrivateTeams}\n                        />,\n                    );\n                }\n            });\n\n            if (joinableTeamContents.length === 0 && (canCreateTeams || canManageSystem)) {\n                joinableTeamContents = (\n                    <div className='signup-team-dir-err'>\n                        <div>\n                            <FormattedMessage\n                                id='signup_team.no_open_teams_canCreate'\n                                defaultMessage='No teams are available to join. Please create a new team or ask your administrator for an invite.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (joinableTeamContents.length === 0) {\n                joinableTeamContents = (\n                    <div className='signup-team-dir-err'>\n                        <div>\n                            <SystemPermissionGate permissions={[Permissions.CREATE_TEAM]}>\n                                <FormattedMessage\n                                    id='signup_team.no_open_teams_canCreate'\n                                    defaultMessage='No teams are available to join. Please create a new team or ask your administrator for an invite.'\n                                />\n                            </SystemPermissionGate>\n                            <SystemPermissionGate\n                                permissions={[Permissions.CREATE_TEAM]}\n                                invert={true}\n                            >\n                                <FormattedMessage\n                                    id='signup_team.no_open_teams'\n                                    defaultMessage='No teams are available to join. Please ask your administrator for an invite.'\n                                />\n                            </SystemPermissionGate>\n                        </div>\n                    </div>\n                );\n            }\n\n            openContent = (\n                <div\n                    id='teamsYouCanJoinContent'\n                    className='signup__content'\n                >\n                    <h4>\n                        <FormattedMessage\n                            id='signup_team.join_open'\n                            defaultMessage='Teams you can join: '\n                        />\n                    </h4>\n                    <InfiniteScroll\n                        callBack={this.fetchMoreTeams}\n                        styleClass='signup-team-all'\n                        totalItems={totalTeamsCount}\n                        itemsPerPage={TEAMS_PER_PAGE}\n                        bufferValue={280}\n                        pageNumber={currentPage}\n                        loaderStyle={{padding: '0px', height: '40px'}}\n                    >\n                        {joinableTeamContents}\n                    </InfiniteScroll>\n                </div>\n            );\n        }\n\n        const teamSignUp = (\n            <SystemPermissionGate permissions={[Permissions.CREATE_TEAM]}>\n                <div\n                    className='margin--extra'\n                    style={{marginTop: '0.5em'}}\n                >\n                    <Link\n                        id='createNewTeamLink'\n                        to='/create_team'\n                        onClick={() => trackEvent('select_team', 'click_create_team')}\n                        className='signup-team-login'\n                    >\n                        <FormattedMessage\n                            id='login.createTeam'\n                            defaultMessage='Create a team'\n                        />\n                    </Link>\n                </div>\n            </SystemPermissionGate>\n        );\n\n        let adminConsoleLink;\n        if (!UserAgent.isMobileApp()) {\n            adminConsoleLink = (\n                <SystemPermissionGate permissions={[Permissions.MANAGE_SYSTEM]}>\n                    <div className='mt-8 hidden-xs'>\n                        <Link\n                            to='/admin_console'\n                            className='signup-team-login'\n                            onClick={() => trackEvent('select_team', 'click_system_console')}\n                        >\n                            <FormattedMessage\n                                id='signup_team_system_console'\n                                defaultMessage='Go to System Console'\n                            />\n                        </Link>\n                    </div>\n                </SystemPermissionGate>\n            );\n        }\n\n        let headerButton;\n        if (this.state.error) {\n            headerButton = <BackButton onClick={this.clearError}/>;\n        } else if (isMemberOfTeam) {\n            headerButton = <BackButton/>;\n        } else {\n            headerButton = (\n                <div className='signup-header'>\n                    <a\n                        href='#'\n                        id='logout'\n                        onClick={this.handleLogoutClick}\n                    >\n                        <LogoutIcon/>\n                        <FormattedMessage\n                            id='web.header.logout'\n                            defaultMessage='Logout'\n                        />\n                    </a>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <AnnouncementBar/>\n                {headerButton}\n                <div className='col-sm-12'>\n                    <div\n                        className={'select-team__container signup-team__container'}\n                    >\n                        <img\n                            alt={'signup team logo'}\n                            className='signup-team-logo'\n                            src={logoImage}\n                        />\n                        <SiteNameAndDescription\n                            customDescriptionText={customDescriptionText}\n                            siteName={siteName}\n                        />\n                        {openContent}\n                        {teamSignUp}\n                        {adminConsoleLink}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nexport default function LogoutIcon() {\n    const {formatMessage} = useIntl();\n    return (\n        <i\n            className='fa fa-1x fa-angle-left'\n            title={formatMessage({id: 'generic_icons.logout', defaultMessage: 'Logout Icon'})}\n        />\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nexport default function TeamInfoIcon(props) {\n    const {formatMessage} = useIntl();\n    return (\n        <span {...props}>\n            <svg\n                width='100%'\n                height='100%'\n                viewBox='0 0 20 20'\n                style={style}\n                role='img'\n                aria-label={formatMessage({id: 'generic_icons.info', defaultMessage: 'Info Icon'})}\n            >\n                <g transform='matrix(1.17647,0,0,1.17647,-1.55431e-15,-1.00573e-14)'>\n                    <path d='M8.5,0C3.797,0 0,3.797 0,8.5C0,13.203 3.797,17 8.5,17C13.203,17 17,13.203 17,8.5C17,3.797 13.203,0 8.5,0ZM10,8.5C10,7.672 9.328,7 8.5,7C7.672,7 7,7.672 7,8.5L7,12.45C7,13.278 7.672,13.95 8.5,13.95C9.328,13.95 10,13.278 10,12.45L10,8.5ZM8.5,3C9.328,3 10,3.672 10,4.5C10,5.328 9.328,6 8.5,6C7.672,6 7,5.328 7,4.5C7,3.672 7.672,3 8.5,3Z'/>\n                </g>\n            </svg>\n        </span>\n    );\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","export default __webpack_public_path__ + \"files/ab8aa80cba445eb0fb75e6611c292567.png\";"],"sourceRoot":""}