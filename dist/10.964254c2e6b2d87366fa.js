(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1640:function(e,a){},1641:function(e,a){},1651:function(e,a){},1652:function(e,a){},1672:function(e,a){},1674:function(e,a){},1675:function(e,a){},1676:function(e,a){},1677:function(e,a){},1685:function(e,a){},1691:function(e,a){},1694:function(e,a){},2309:function(e,a,t){"use strict";t.r(a);var r=t(264),s=t(13),n=t(108),o=t(12),l=(t(94),t(183),t(33),t(515),t(125)),i=t.n(l),c=t(1635),u=t.n(c),m=t(5),d=t.n(m),g=t(1129),p=t(1127),E=t(0),_=t(1201);const f=({type:e,title:a})=>{let t=null;if(e)switch(e){case E.p.LOCAL_STORAGE:t=d.a.createElement(g.a,{id:"error.local_storage.title",defaultMessage:"Cannot Load Mattermost"});break;case E.p.PERMALINK_NOT_FOUND:t=d.a.createElement(g.a,{id:"permalink.error.title",defaultMessage:"Message Not Found"});break;case E.p.OAUTH_ACCESS_DENIED:t=d.a.createElement(g.a,{id:"error.oauth_access_denied.title",defaultMessage:"Authorization Error"});break;case E.p.OAUTH_MISSING_CODE:t=d.a.createElement(g.a,{id:"error.oauth_missing_code.title",defaultMessage:"Mattermost Needs Your Help"});break;case E.p.OAUTH_INVALID_REDIRECT_URL:case E.p.OAUTH_INVALID_PARAM:t=d.a.createElement(g.a,{id:"error.oauth_invalid_param.title",defaultMessage:"OAuth Parameter Error"});break;case E.p.TEAM_NOT_FOUND:t=d.a.createElement(g.a,{id:"error.team_not_found.title",defaultMessage:"Team Not Found"});break;case E.p.CHANNEL_NOT_FOUND:t=d.a.createElement(g.a,{id:"error.channel_not_found.title",defaultMessage:"Channel Not Found"});break;case E.p.PAGE_NOT_FOUND:default:t=d.a.createElement(g.a,{id:"error.not_found.title",defaultMessage:"Page Not Found"})}else t=a||o.ob("error.generic.title","Error");return t};f.propTypes={type:i.a.oneOfType([i.a.string,i.a.oneOf([null])]),title:i.a.string.isRequired};var h=f,N=t(11),b=t(1581);const M=({type:e,message:a,service:t,isGuest:r})=>{let s=null;if(e)switch(e){case E.p.LOCAL_STORAGE:s=d.a.createElement("div",null,d.a.createElement(g.a,{id:"error.local_storage.message",defaultMessage:"Mattermost was unable to load because a setting in your browser prevents the use of its local storage features. To allow Mattermost to load, try the following actions:"}),d.a.createElement("ul",null,d.a.createElement("li",null,d.a.createElement(g.a,{id:"error.local_storage.help1",defaultMessage:"Enable cookies"})),d.a.createElement("li",null,d.a.createElement(g.a,{id:"error.local_storage.help2",defaultMessage:"Turn off private browsing"})),d.a.createElement("li",null,d.a.createElement(g.a,{id:"error.local_storage.help3",defaultMessage:"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)"}))));break;case E.p.PERMALINK_NOT_FOUND:s=d.a.createElement("p",null,d.a.createElement(g.a,{id:"permalink.error.access",defaultMessage:"Permalink belongs to a deleted message or to a channel to which you do not have access."}));break;case E.p.TEAM_NOT_FOUND:s=d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.team_not_found.message",defaultMessage:"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation."}));break;case E.p.CHANNEL_NOT_FOUND:s=d.a.createElement("p",null,r?d.a.createElement(g.a,{id:"error.channel_not_found.message_guest",defaultMessage:"Your guest account has no channels assigned. Please contact an administrator."}):d.a.createElement(g.a,{id:"error.channel_not_found.message",defaultMessage:"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel."}));break;case E.p.OAUTH_MISSING_CODE:s=d.a.createElement("div",null,d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_missing_code",defaultMessage:"The service provider {service} did not provide an authorization code in the redirect URL.",values:{service:t}})),d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_missing_code.google",defaultMessage:"For {link} make sure your administrator enabled the Google+ API.",values:{link:d.a.createElement(b.a,{url:"https://docs.mattermost.com/deployment/sso-google.html",messageId:Object(N.b)("error.oauth_missing_code.google.link"),defaultMessage:"Google Apps"})}})),d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_missing_code.office365",defaultMessage:"For {link} make sure the administrator of your Microsoft organization has enabled the Mattermost app.",values:{link:d.a.createElement(b.a,{url:"https://docs.mattermost.com/deployment/sso-office.html",messageId:Object(N.b)("error.oauth_missing_code.office365.link"),defaultMessage:"Office 365"})}})),d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_missing_code.gitlab",defaultMessage:"For {link} please make sure you followed the setup instructions.",values:{link:d.a.createElement(b.a,{url:"https://docs.mattermost.com/deployment/sso-gitlab.html",messageId:Object(N.b)("error.oauth_missing_code.gitlab.link"),defaultMessage:"GitLab"})}})),d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_missing_code.forum",defaultMessage:"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.",values:{link:d.a.createElement(b.a,{url:"https://forum.mattermost.org/c/trouble-shoot",messageId:Object(N.b)("error.oauth_missing_code.forum.link"),defaultMessage:"Troubleshooting forum"})}})));break;case E.p.OAUTH_ACCESS_DENIED:s=d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.oauth_access_denied",defaultMessage:"You must authorize Mattermost to log in with {service}.",values:{service:t}}));break;case E.p.OAUTH_INVALID_REDIRECT_URL:case E.p.OAUTH_INVALID_PARAM:s=d.a.createElement("p",null,a);break;case E.p.PAGE_NOT_FOUND:default:s=d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.not_found.message",defaultMessage:"The page you were trying to reach does not exist"}))}else s=a?d.a.createElement("p",null,a):d.a.createElement("p",null,d.a.createElement(g.a,{id:"error.generic.message",defaultMessage:"An error has occurred."}));return s};M.propTypes={type:i.a.oneOfType([i.a.string,i.a.oneOf([null])]),message:i.a.string,service:i.a.string,isGuest:i.a.bool};var O,A,k,T=M;class y extends d.a.PureComponent{componentDidMount(){document.body.setAttribute("class","sticky error")}componentWillUnmount(){document.body.removeAttribute("class")}render(){const{isGuest:e}=this.props,a=new URLSearchParams(this.props.location.search),t=a.get("s");let r=!1;if(t){a.delete("s");const e="-----BEGIN PUBLIC KEY-----\n"+this.props.asymmetricSigningPublicKey+"\n-----END PUBLIC KEY-----",s=u.a.createVerify("sha256");s.update("/error?"+a.toString()),r=s.verify(e,t,"base64")}const s=a.get("type"),n=r&&a.get("title")||"",o=r&&a.get("message")||"",l=r&&a.get("service")||"",i=r&&a.get("returnTo")||"";let c;return c=s===E.p.PERMALINK_NOT_FOUND&&i?d.a.createElement(p.Link,{to:i},d.a.createElement(g.a,{id:"error.generic.link",defaultMessage:"Back to Mattermost"})):s===E.p.TEAM_NOT_FOUND?d.a.createElement(p.Link,{to:"/"},d.a.createElement(g.a,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})):s===E.p.CHANNEL_NOT_FOUND&&e?d.a.createElement(p.Link,{to:"/"},d.a.createElement(g.a,{id:"error.channelNotFound.guest_link",defaultMessage:"Back"})):s===E.p.CHANNEL_NOT_FOUND?d.a.createElement(p.Link,{to:a.get("returnTo")},d.a.createElement(g.a,{id:"error.channelNotFound.link",defaultMessage:"Back to {defaultChannelName}",values:{defaultChannelName:E.l.DEFAULT_CHANNEL_UI_NAME}})):s===E.p.OAUTH_ACCESS_DENIED||s===E.p.OAUTH_MISSING_CODE?d.a.createElement(p.Link,{to:"/"},d.a.createElement(g.a,{id:"error.generic.link_login",defaultMessage:"Back to Login Page"})):s===E.p.OAUTH_INVALID_PARAM||s===E.p.OAUTH_INVALID_REDIRECT_URL?null:d.a.createElement(p.Link,{to:"/"},d.a.createElement(g.a,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})),d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"error__container"},d.a.createElement("div",{className:"error__icon"},d.a.createElement(_.a,null)),d.a.createElement("h2",{"data-testid":"errorMessageTitle"},d.a.createElement(h,{type:s,title:n})),d.a.createElement(T,{type:s,message:o,service:l,isGuest:e}),c))}}O=y,A="propTypes",k={location:i.a.shape({search:i.a.string.isRequired}).isRequired,asymmetricSigningPublicKey:i.a.string,siteName:i.a.string,isGuest:i.a.bool},A in O?Object.defineProperty(O,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[A]=k;a.default=Object(r.connect)((function(e){const a=Object(s.getConfig)(e),t=Object(n.getCurrentUser)(e);return{siteName:a.SiteName,asymmetricSigningPublicKey:a.AsymmetricSigningPublicKey,isGuest:Boolean(t&&Object(o.bb)(t))}}))(y)}}]);
//# sourceMappingURL=10.964254c2e6b2d87366fa.js.map